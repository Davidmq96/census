<div class="container h-100" >
    <div class="row align-items-center h-100" >
        <div class="card pt-2 shadow-sm">
            <div class="col-sm-12 ">
                <div class="text-center">
                    <b>Filter by</b>
                    <div class="row">
                        <div class="col-sm-12 col-md-6 col-lg-3">
                            <label>Nation/State</label>
                            <ng-select [(ngModel)]="selectedOption" (change)="filterChart(false); cleanStatesValues();">
                                <ng-option *ngFor="let opt of options" [value]="opt.name">{{opt.name}}</ng-option>
                             </ng-select>
                        </div>
                        <div class="col-sm-12 col-md-6 col-lg-3" *ngIf="arrStates && arrStates.length > 0">
                            <label>States max(10)</label><!--Max 10 rows for better performance -->
                            <ng-select [maxSelectedItems]="10" required [multiple]="true" [(ngModel)]="selectedStates" #statesModel="ngModel" (change)="filterChart(false)">
                                <ng-option  *ngFor="let opt of arrStates" [value]="opt">{{opt}}</ng-option>
                             </ng-select>
                             <p class="p--red" *ngIf="((!selectedStates || selectedStates.length == 0)  && submitted)"  >
                                State must have a value
                             </p>
                        </div>
                        <div class="col-sm-12 col-md-6 col-lg-3 mt-4" *ngIf="arrStates && arrStates.length > 0">
                            <button class="btn btn-primary" (click)="filterChart(true); submitted = true;"> Search</button>
                        </div>
                    </div>
                </div>
                 
                    <div #container *ngIf="hasData"></div>
                    <div class="text-center" *ngIf="!hasData">
                        <img src="assets/img/chart.png" class="imageChart">
                        <br>
                        <p>No data found</p>
                      </div>

                      <div class="text-center">
                        <button class="btn btn-primary"[routerLink]="['/home']" >Go back to home</button>

                      </div>
            </div>
        </div>
    </div>
</div>
